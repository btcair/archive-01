# Cluster: K8s Control Plane

## 1. κ°μ” λ° λΉ„μ 
**Control Plane(μ»¨νΈλ΅¤ ν”λ μΈ)**μ€ μΏ λ²„λ„¤ν‹°μ¤μ 'λ‡' μ—­ν• μ„ ν•λ” μ»΄ν¬λ„νΈλ“¤μ μ§‘ν•©μ…λ‹λ‹¤. ν΄λ¬μ¤ν„°μ μ „λ°μ μΈ κ²°μ •(μ¤μΌ€μ¤„λ§, μ΄λ²¤νΈ μ‘λ‹µ λ“±)μ„ λ‚΄λ¦¬κ³  ν΄λ¬μ¤ν„°μ μƒνƒλ¥Ό κ΄€λ¦¬ν•©λ‹λ‹¤.

π’΅ **λΉ„μ ν•μλ©΄ 'νμ‚¬μ λ³Έμ‚¬(κ²½μμ§„)'μ™€ κ°™μµλ‹λ‹¤.**
μ‹¤μ  ν„μ¥μ—μ„ λ›°λ” μ§μ›(Worker Node)λ“¤μ΄ μΌμ„ μν•  μ μλ„λ΅ μ „λµμ„ μ§κ³ , μΈλ ¥μ„ λ°°μΉν•κ³ , λ¬Έμ κ°€ μƒκΈ°λ©΄ λ³΄κ³ λ¥Ό λ°›μ•„ κ²°μ •μ„ λ‚΄λ¦¬λ” κ²½μμ§„ μ „μ²΄λ¥Ό μλ―Έν•©λ‹λ‹¤.

[Image of Kubernetes architecture showing control plane and worker nodes interaction]

## 2. ν•µμ‹¬ μ„¤λ…
* **κµ¬μ„± μ”μ†:** `kube-apiserver`, `etcd`, `kube-scheduler`, `kube-controller-manager`λ΅ κµ¬μ„±λ©λ‹λ‹¤.
* **Desire State μ μ§€:** μ‚¬μ©μκ°€ μ„ μ–Έν• 'λ°”λΌλ” μƒνƒ'λ¥Ό κ°μ‹ν•κ³ , μ‹¤μ  μƒνƒκ°€ κ·Έμ™€ λ‹¤λ¥Ό κ²½μ° λ…λ Ήμ„ λ‚΄λ ¤ λ‘ μƒνƒλ¥Ό μΌμΉμ‹ν‚µλ‹λ‹¤.
* **κ³ κ°€μ©μ„± (HA):** λ³Έμ‚¬κ°€ λ¬΄λ„μ§€λ©΄ νμ‚¬ μ „μ²΄κ°€ λ§λΉ„λλ―€λ΅, λ³΄ν†µ 3κ° μ΄μƒμ λ…Έλ“μ— μ»¨νΈλ΅¤ ν”λ μΈμ„ λ¶„μ‚° λ°°μΉν•μ—¬ μ¥μ• μ— λ€λΉ„ν•©λ‹λ‹¤.

## 3. YAML μ μ© μμ‹ (Pod μ¤ν™ λ‚΄μ μ»¨νΈλ΅¤ ν”λ μΈ μ»΄ν¬λ„νΈ ν™•μΈ)
μ •μ  νλ“(Static Pod) ν•νƒλ΅ μ‹¤ν–‰λλ” μ»¨νΈλ΅¤ ν”λ μΈ μ»΄ν¬λ„νΈλ“¤μ λ§¤λ‹νμ¤νΈ μ„μΉλ¥Ό ν™•μΈν•λ” κ²ƒμ΄ μ£Όλ‹μ–΄ μ‹μ μ—” μ¤‘μ”ν•©λ‹λ‹¤.

```bash
# μ›μ»¤ λ…Έλ“κ°€ μ•„λ‹ λ§μ¤ν„° λ…Έλ“ ν„°λ―Έλ„μ—μ„ ν™•μΈ
ls /etc/kubernetes/manifests/

# μμ‹: kube-apiserver.yaml λ‚΄μ© μ¤‘ μΌλ¶€
# spec:
#   containers:
#   - command:
#     - kube-apiserver
#     - --advertise-address=192.168.0.10
#     - --etcd-servers=[https://127.0.0.1:2379](https://127.0.0.1:2379)
```

## 4. νΈλ¬λΈ” μν…
* **μ»¨νΈλ΅¤ ν”λ μΈ λ…Έλ“ λ¶€μ΅±:**
  * ν™€μ(1, 3, 5...) λ‹¨μ„λ΅ κµ¬μ„±ν•λ” κ²ƒμ΄ μ›μΉ™μ…λ‹λ‹¤. 2λ€λ΅ κµ¬μ„±ν–λ‹¤κ°€ 1λ€κ°€ μ£½μΌλ©΄ `etcd`κ°€ κ³Όλ°μ μ°¬μ„±(Quorum)μ„ μ–»μ§€ λ»ν•΄ ν΄λ¬μ¤ν„° μ „μ²΄κ°€ Read-only μƒνƒκ°€ λκ±°λ‚ λ©μ¶ μ μμµλ‹λ‹¤.